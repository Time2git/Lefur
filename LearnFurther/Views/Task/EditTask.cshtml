@using LearnFurther.ViewModels
@model EditTaskViewModel

<form method="post" asp-controller="Task">
    <div>
        <div asp-validation-summary="ModelOnly"></div>
        <div class="form-group">
            <input type="hidden" asp-for="Id" />
        </div>
        <div class="form-group">
            <label asp-for="Title"></label><br />
            <input class="form-control" asp-for="Title" />
            <span asp-validation-for="Title"></span>
        </div>
        <div class="form-group">
            <label class="form-label" asp-for="Description"></label><br />
            <textarea class="form-control" asp-for="Description" rows="3" style="resize:none"></textarea>
            <span asp-validation-for="Description"></span>
        </div>
        @for(int i = 0; i<Model.Questions.Count; i++)
        {
            int x = 0;
            <div class="d-flex justify-content-around row" id ="@i">
                <textarea class="form-control mt-2 mb-3 ml-3 mr-3" asp-for="@Model.Questions[i].Context" style="resize:none" rows="1"></textarea>
                    @foreach(var answer in Model.Questions[i].Answers) 
                    {
                        <div class="form-check col-sm-4 ml-2 mr-2">
                            <input class="form-check-input" type="checkbox" asp-for="@answer.State" />
                            <input class="form-control ml-2 mb-2" asp-for="@answer.Content" />
                        </div>
                        x++;
                    }
            </div>
        }
        <div class="form-group">
            <input type="submit" value="Сохранить изменения" class="btn btn-outline-secondary" asp-action="Edit" />
        </div>
        <div class="form-group">
            <input type="submit" value="Удалить" class="btn btn-outline-secondary" asp-action="Delete" />
        </div>
    </div>
</form>